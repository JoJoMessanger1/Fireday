<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Planner</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">
    <div id="password-screen">
        <h2>🔒 Privacy Planner</h2>
        <p id="password-info">Geben Sie Ihr Master-Passwort ein, um Daten zu entsperren/festzulegen.</p>
        <input type="password" id="master-password" placeholder="Master-Passwort">
        <button onclick="APP.initApp()">Entsperren / Festlegen</button>
        <p style="margin-top: 15px; font-size: 0.8em;">Ihre Daten werden verschlüsselt und nur lokal gespeichert (kein Server!).</p>
    </div>

    <div id="main-content" style="display:none;">
        <header>
            <button id="mode-toggle" onclick="APP.toggleMode()">☀️</button>
            <button id="save-button" onclick="APP.saveData()">💾 Speichern</button>
            <button id="focus-toggle" onclick="APP.toggleFocusMode()">🎯 Fokus-Modus</button>
        </header>

        <div class="column" id="timer-column">
            <h2>⏱️ Fokus-Tracker</h2>
            <div id="timer-display">00:00:00</div>
            <input type="text" id="timer-name" placeholder="Name der Session (z.B. 'GitHub Coding')">
            <button onclick="TIMER.startStop()">Start</button>
            <button onclick="TIMER.saveSession()">Session beenden & Speichern</button>
            
            <h3>Protokoll (<span id="tracked-time-count">0</span> Sessions)</h3>
            <ul id="session-log"></ul>
        </div>

        <div class="column" id="tasks-column">
            <h2>✅ Aufgaben</h2>
            <input type="text" id="todo-input" placeholder="Neue Aufgabe">
            <button onclick="TODO.add()">Hinzufügen</button>
            
            <div id="todo-list">
                </div>
            
            <h3 style="margin-top: 20px;">😌 Tages-Stimmung (1)</h3>
            <input type="range" min="1" max="5" value="3" class="slider" id="mood-slider">
            <span id="mood-output">Neutral (3/5)</span>
        </div>

        <div class="column" id="notes-column">
            <h2>📝 Notizen (Markdown-Vorschau)</h2>
            <textarea id="notes-input" placeholder="Hier kommen deine Notizen rein..."></textarea>
            <div id="notes-preview" class="markdown-preview"></div>

            <p id="image-drop-area">Bilder hierher ziehen, um sie privat zu speichern (Base64).</p>
        </div>
        
    </div>
    
    <script src="app.js"></script>
</body>
</html>
